generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = "mysql://root:Mh.6627262@localhost:3306/QLSP"
}

// model User {
//   id    Int     @id @default(autoincrement())
//   email String  @unique
//   name  String?
//   posts Post[]
// }

// model Post {
//   id        Int      @id @default(autoincrement())
//   createdAt DateTime @default(now())
//   updatedAt DateTime @updatedAt
//   title     String
//   content   String?
//   published Boolean  @default(false)
//   viewCount Int      @default(0)
//   author    User?    @relation(fields: [authorId], references: [id])
//   authorId  Int?
// }

model Product {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  category Category? @relation(fields: [categoryId], references: [id])
  categoryId Int?
  warehouse Warehouse[]
  order Order[]
  transaction transaction[]
}

model Warehouse {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  product Product? @relation(fields: [productId], references: [id])
  productId Int?
}

model Category {
  id    Int     @id @default(autoincrement())
  name  String?
  products Product[]
}

model User {
  id    Int     @id @default(autoincrement())
  name  String?
  email String?
  password String?
  role String?
  avatar String?
  address String?
  phone String?
  cart Cart[]
  order Order[]
  orderDetail OrderDetail[]
  comment Comment[]
  rating Rating[]
  payment Payment[]
  transaction transaction[]

}

model Cart {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
}

model Order {
  id    Int     @id @default(autoincrement())
  product Product? @relation(fields: [productId], references: [id])
  productId Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
  orderDetail OrderDetail[]
  quantity Int?
}

model OrderDetail {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
  order Order? @relation(fields: [orderId], references: [id])
  orderId Int?
}

model Comment {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
}

model Rating {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
}

model Payment {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
}

model transaction {
  id    Int     @id @default(autoincrement())
  name  String?
  price Int?
  description String?
  image String?
  quantity Int?
  user User? @relation(fields: [userId], references: [id])
  userId Int?
  product Product? @relation(fields: [productId], references: [id])
  productId Int?
  total Int?
}
